<!DOCTYPE html>
<html>
	
	<head>
		<title>Breadinator - Home</title>

		<meta charset="UTF-8" />
		<link rel="stylesheet" type="text/css" href="style.css" />

		<script src="scripts/jquery-3.2.1.min.js"></script>
		<script src="https://cdn.rawgit.com/showdownjs/showdown/1.8.6/dist/showdown.min.js"></script>
		<script>
			function onLoad() {
				resize();
				getBlog();
			}

			function resize() {
				var cWidth = $(window).width() - 72;
				$("#content").css({"width":cWidth});

				if ($("#content").height() < $(document).height()) {
					$("#content").css({"height":$(document).height()});
				}
			}

			function getBlog() {
				$.get("https://api.github.com/repos/Breadinator/breadinator.github.io/contents/_POSTS", function(data) {
					$("#blog-content").html("");

					data.reverse().forEach(function(postData) {
						var raw = postData["download_url"];
						$.get(raw, function(postJSON) {
							postJSON = JSON.parse(postJSON)[0];

							var title = postJSON["title"];
							var contents = postJSON["content"];
							$("#blog-content").html($("#blog-content").html() + "<h2>" + title + "</h2>" + "<p>" + contents + "</p><hr />");
						});
					});
				});
			}

			window.onresize = resize;
		</script>
	</head>

	<body onload="onLoad();">

		<div id="navbar">
			<a href="index.html">Home</a>
			<a href="about.html" onclick="return false;">About</a>
		</div>

		<div id="content"><br />
			<div id="blog-content">Loading...</div>
		</div>

	</body>

</html>